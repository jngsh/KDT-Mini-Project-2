<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.exam.mapper.MemberMapper">
	
 	<!-- 회원가입 -->
	<insert id="save" parameterType="MemberDTO">
		insert into member (userId, userPw, userName, 
							phone1, phone2, phone3, 
							email1, email2, 
							post, addr1, addr2)
        values (#{userId}, #{userPw}, #{userName}, 
        		#{phone1}, #{phone2}, #{phone3}, 
        		#{email1}, #{email2}, 
        		#{post}, #{addr1}, #{addr2})
    </insert>
	
	<!-- 아이디 중복 체크 -->
	<select id="idCheck" parameterType="string" resultType="int">
		select count(userId)
		from member
		where userId = #{userId}
	</select>
   
   <!-- 로그인 -->
    <select id="findById" parameterType="string" resultType="MemberDTO">
        select userId, userPw, userName, 
        	   phone1, phone2, phone3, 
        	   email1, email2, 
        	   post, addr1, addr2
        from member
        where userId = #{userId}
    </select>
    
    <!-- mypage -->
	<select id="mypage" parameterType="string" resultType="MemberDTO">
		select userId, userName, 
			   phone1, phone2, phone3, 
			   email1, email2, 
			   post, addr1, addr2
		from member 
		where userId=#{userId}
	</select>
    
    <!-- 회원정보 수정 -->
    <update id="updateMember" parameterType="MemberDTO" >
    	update member
    	set userName = #{userName},
            phone1 = #{phone1},
            phone2 = #{phone2},
            phone3 = #{phone3},
            email1 = #{email1},
            email2 = #{email2},
            post = #{post},
            addr1 = #{addr1},
            addr2 = #{addr2}
        WHERE userId = #{userId}
    </update>
    
</mapper>
